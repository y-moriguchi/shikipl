# ShikiPL

ShikiPL computes mathematical formulae written by ASCII art.  
ShikiPL translates ASCII art to JavaScript code.

## How to use
A ShikiPL code which you want to bury in JavaScript is written in \\[...\\] block.
```
var f = \[
a = 1

         2
f(x) = 2x  + 1
\]
```

In above example, the variable f has two properties.  
One of property is a, which is a constant value 1, and another property is f which is a function with argument x.

You can use object which is generated by ShikiPL by shown as follows.
```
console.log(f.f(2));  // outputs 9
```

To translate ShikiPL to JavaScript, executes the command shown as follows.
```
$ shikipl filename.js.shikipl
```

## Example

### Simple formula
```
var f = \[
         2
f(x) = 2x  + 1
\]
console.log(f.f(2));  // outputs 9
```

### Fraction
```
var f = \[
        x + 1
f(x) = -------
          2
\]
console.log(f.f(1));  // outputs 1
```

### Square root: a solution of quadratic equation
```
var f = \[
                     ________
                    / 2
              -b + v b  - 4ac
f(a, b, c) = -----------------
                     2a
\]
console.log(f.f(2, -4, 2));  // outputs 1
```

### Trigonometric function
```
var f = \[
f(a) = sin a
\]
console.log(f.f(Math.PI / 2));  // outputs 1
```

### Power of trigonometric function
```
var f = \[
          2        2
f(a) = sin  a + cos  a
\]
console.log(f.f(8.765346283));  // outputs 1
```

### Logarithm
```
var f = \[
f(a) = log a
\]
console.log(f.f(Math.E));  // outputs 1
```

### Logarithm with base
```
var f = \[
f(a) = log  a
          2
\]
console.log(f.f(8));  // outputs 3
```

### Spherical Mercator projection
Translation formulae of spherical Mercator projection are given as follows.

![tex](img/README.0001.png)

![tex](img/README.0002.png)

where φ is latitude(Breite) and λ is longitude(Länge).

```
var f = \[
                      o
               \pi   b
y(b) = ln tan (--- + --)
                4    2
\]
console.log(f.y(27));  // outputs 0.48971537442745056
```

### Haversine formula
To obtain distance of two geometrical coordinates, use haversine formula shown as follows.

![tex](img/README.0003.png)

where R is Earth radius, φ is latitude(Breite) and λ is longitude(Länge).
```
var f = \[
r = 3956

                             ____________________________________________
                            /       o   o                         o   o
                      -1   /    2  B - b          o      o    2  L - l
d(B, b, L, l) = 2r sin    /  sin  -------- + cos B  cos b  sin  --------
                         v           2                             2
\]
console.log(f.d(3.046685, 3.146685, 100.686656, 101.686656));  // outputs 69.2892623017496
```

### Fibonacci series
```
var f = \[
F  = 0
 0

F  = 1
 1

F  = F    + F
 n    n-2    n-1
\]
console.log(f.F(10));  // outputs 55
```

## License
MIT

